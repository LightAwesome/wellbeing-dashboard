<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Smart Wellbeing Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
      color: #4e342e;
      background: var(--bg-gradient, linear-gradient(to bottom right, #fff3e0, #ffe0b2));
      transition: background 0.5s ease;
    }
    h1 {
      text-align: center;
      color: #e65100;
      margin-bottom: 10px;
    }
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .section {
      background: #ffffff;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      min-height: 200px;
    }
    .emoji-button {
      font-size: 28px;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .emoji-button:hover {
      transform: scale(1.2);
    }
    .checkbox-group label {
      display: block;
      padding: 8px;
      border: 1px solid #d7ccc8;
      border-radius: 10px;
      margin-bottom: 10px;
      background: #fbe9e7;
    }
    .affirmation-box, .quote-box, .goal-box, .calendar-note, .encouragement-box, .weather-box, .focus-box, .energy-box, .winddown-box {
      margin-top: 10px;
      padding: 12px;
      border-radius: 12px;
      font-style: italic;
      color: #666;
    }
    .affirmation-box { background: #ffccbc; }
    .quote-box { background: #ffe0b2; border-left: 6px solid #fb8c00; }
    .goal-box { background: #fff3e0; border: 1px solid #ffb74d; }
    .calendar-note { background: #f1f8e9; color: #558b2f; }
    .encouragement-box { background: #ede7f6; color: #4527a0; }
    .weather-box { background: #e3f2fd; color: #1565c0; }
    .focus-box { background: #fff8e1; color: #f57f17; }
    .energy-box { background: #fce4ec; color: #ad1457; }
    .winddown-box { background: #d7ccc8; color: #4e342e; }
    button {
      padding: 12px 24px;
      border: none;
      background-color: #ef6c00;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }
    button:hover {
      background-color: #e65100;
    }
    textarea {
      width: 100%;
      height: 100px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>My Smart Wellbeing Dashboard</h1>

  <div class="dashboard-grid">
    <div class="section">
      <h2 id="greeting">Loading greeting...</h2>
      <div class="focus-box" id="focusBox">üéØ Your daily focus will appear here.</div>
      <div class="weather-box" id="weatherTip">üå§Ô∏è Weather insights loading...</div>
      <div class="energy-box" id="energyEstimate">‚ö° Estimated energy will be shown here.</div>
    </div>

    <div class="section">
      <h2>Mood Tracker</h2>
      <div style="text-align:center;">
        <span class="emoji-button" onclick="selectMood('üòä')">üòä</span>
        <span class="emoji-button" onclick="selectMood('üòê')">üòê</span>
        <span class="emoji-button" onclick="selectMood('üò¢')">üò¢</span>
        <span class="emoji-button" onclick="selectMood('üò†')">üò†</span>
        <span class="emoji-button" onclick="selectMood('üò¥')">üò¥</span>
      </div>
      <p id="selectedMood">Your selected mood will appear here.</p>
      <div class="encouragement-box" id="emotionSupport">üí¨ Mood reflection will show here.</div>
    </div>

    <div class="section">
      <h2>Daily Self-Care</h2>
      <div class="checkbox-group" onchange="updateEncouragement()">
        <label><input type="checkbox"> Drank enough water</label>
        <label><input type="checkbox"> Got some movement</label>
        <label><input type="checkbox"> Took 5 deep breaths</label>
        <label><input type="checkbox"> Unplugged from screen</label>
      </div>
      <div class="encouragement-box" id="encouragement">üß† Your encouragement feedback will appear here.</div>
    </div>

    <div class="section">
      <h2>Affirmation</h2>
      <button onclick="generateAffirmation()">Inspire Me</button>
      <div class="affirmation-box" id="affirmationBox">üåü Your daily affirmation will show here.</div>
    </div>

    <div class="section">
      <h2>Reflection</h2>
      <div class="quote-box">
        "Even on the hardest days, I made time to breathe, reflect, and reset."
      </div>
      <textarea placeholder="Write your thoughts here..."></textarea>
    </div>

    <div class="section">
      <h2>Focus Tracker</h2>
      <div class="checkbox-group">
        <label><input type="checkbox"> Eat mindfully</label>
        <label><input type="checkbox"> Unplug for 1 hour</label>
        <label><input type="checkbox"> Compliment yourself</label>
      </div>
    </div>

    <div class="section">
      <h2>Wind-Down Checklist</h2>
      <div class="winddown-box" id="windDownChecklist">üåô Your night routine checklist will appear here after 7PM.</div>
    </div>

    <div class="section">
      <h2>Coping Chart</h2>
      <canvas id="stressChartCanvas"></canvas>
    </div>
  </div>

  <script>
    function personalizeDashboard() {
      const hour = new Date().getHours();
      const mood = localStorage.getItem('mood');

      let greeting = hour < 12 ? "Good Morning!" : hour < 18 ? "Good Afternoon!" : "Good Evening!";
      document.getElementById("greeting").innerText = greeting;

      const focusOptions = ["Hydrate regularly", "Take 3 deep breaths", "Journal for 5 minutes", "Unplug and go for a walk"];
      document.getElementById("focusBox").innerText = `üéØ Focus of the day: ${focusOptions[Math.floor(Math.random() * focusOptions.length)]}`;

      let support = "üí¨ How are you feeling today?";
      if (mood === "üò¢" || mood === "üò†") support = "It's okay to feel this way. Take a pause and be gentle with yourself.";
      else if (mood === "üòä") support = "You're glowing today. Keep the good vibes flowing!";
      else if (mood === "üò¥") support = "You might need some extra rest and downtime."
      document.getElementById("emotionSupport").innerText = support;

      let energyLevel = hour < 11 ? "High" : hour < 17 ? "Medium" : "Low";
      document.getElementById("energyEstimate").innerText = `‚ö° Estimated Energy: ${energyLevel}`;

      const weatherOptions = ["sunny", "cloudy", "rainy"];
      const randomWeather = weatherOptions[Math.floor(Math.random() * weatherOptions.length)];
      let weatherMsg = randomWeather === "sunny" ? "‚òÄÔ∏è Sunny: Perfect for getting outdoors!" :
        randomWeather === "cloudy" ? "‚òÅÔ∏è Cloudy: A great day for gentle reflection." :
        "üåßÔ∏è Rainy: Cozy up with warm thoughts and a journal.";
      document.getElementById("weatherTip").innerText = weatherMsg;

      // Dynamic background theme change
      let bgTheme = "linear-gradient(to bottom right, #fff3e0, #ffe0b2)";
      if (mood === "üò¥") bgTheme = "linear-gradient(to bottom right, #d7ccc8, #f5f5f5)";
      if (randomWeather === "rainy") bgTheme = "linear-gradient(to bottom right, #cfd8dc, #eceff1)";
      if (hour >= 19) bgTheme = "linear-gradient(to bottom right, #bcaaa4, #efebe9)";
      document.body.style.setProperty('--bg-gradient', bgTheme);

      // Wind-down checklist
      if (hour >= 19) {
        document.getElementById("windDownChecklist").innerHTML = `
          <strong>Night Routine:</strong><br>
          ‚òëÔ∏è Turn off screens early<br>
          ‚òëÔ∏è Stretch or reflect<br>
          ‚òëÔ∏è Express gratitude
        `;
      }
    }

    function selectMood(mood) {
      document.getElementById('selectedMood').innerText = `Today's mood: ${mood}`;
      localStorage.setItem('mood', mood);
      personalizeDashboard();
    }

    function generateAffirmation() {
      const affirmations = [
        "I am doing the best I can, and that is enough.",
        "I take time to care for my mind and body.",
        "Challenges help me grow stronger.",
        "I deserve rest and kindness.",
        "Wellbeing is a journey, not a destination."
      ];
      const random = affirmations[Math.floor(Math.random() * affirmations.length)];
      document.getElementById('affirmationBox').innerText = random;
    }

    function updateEncouragement() {
      const checkboxes = document.querySelectorAll('.checkbox-group input[type="checkbox"]');
      let checkedCount = 0;
      checkboxes.forEach(cb => { if (cb.checked) checkedCount++; });
      let msg = '';
      if (checkedCount === 0) msg = "ü§ç Be kind to yourself‚Äîtomorrow‚Äôs a new chance.";
      else if (checkedCount < 3) msg = "üå± Nice work, you're making progress.";
      else msg = "üí™ You‚Äôre on fire today!";
      document.getElementById('encouragement').innerText = msg;
    }

    const chartCanvas = document.getElementById('stressChartCanvas').getContext('2d');
    const stressChart = new Chart(chartCanvas, {
      type: 'bar',
      data: {
        labels: ['Rest', 'Movement', 'Support', 'Reflection'],
        datasets: [{
          label: 'Coping Activity (%)',
          data: [70, 50, 40, 60],
          backgroundColor: ['#ffb74d', '#ff8a65', '#ffcc80', '#ffab91'],
          borderRadius: 6
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });

    window.addEventListener('DOMContentLoaded', personalizeDashboard);
  </script>
</body>
</html>
